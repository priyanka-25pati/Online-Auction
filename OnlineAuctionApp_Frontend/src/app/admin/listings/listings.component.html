<div class="listings">
    <h2>Listings</h2>
    <button (click)="navigateToAdmin()" class="back-button">Back</button>
    <div *ngIf="message" class="message">
        {{ message }}
    </div>
    <table class="table">
       <thead>
         <tr>
           <th>Item ID</th>
           <th>Seller ID</th>
           <th>Category ID</th>
           <th>Title</th>
           <th>Description</th>
           <th>Starting Bid</th>
           <th>Reserve Price</th>
           <th>Auction Duration</th>
           <th>Start Time</th>
           <th>End Time</th>
           <th>Status</th>
           <th>Actions</th>
         </tr>
       </thead>
       <tbody>
         <tr *ngFor="let item of items$ | async">
           <td>{{ item.itemID }}</td>
           <td>{{ item.sellerID }}</td>
           <td>{{ item.categoryID }}</td>
           <td>{{ item.title }}</td>
           <td>{{ item.description }}</td>
           <td>{{ item.startingBid }}</td>
           <td>{{ item.reservePrice }}</td>
           <td>{{ item.auctionDuration }} hours</td>
           <td>{{ item.startTime }}</td>
           <td>{{ item.endTime }}</td>
           <td>{{ item.status }}</td>
           <td>
             <button (click)="onUpdate(item)">Update</button>
             <button (click)="onDelete(item.itemID)">Delete</button>
           </td>
         </tr>
       </tbody>
    </table>
   
    <!-- Update Form -->
    <div *ngIf="selectedItem" class="update-form">
       <h3>Update Item</h3>
       <form [formGroup]="updateForm" (ngSubmit)="onSubmitUpdate()">
         <div>
           <label for="title">Title:</label>
           <input type="text" id="title" formControlName="title" name="title">
         </div>
         <div>
           <label for="description">Description:</label>
           <textarea id="description" formControlName="description" name="description"></textarea>
         </div>
         <div>
           <label for="startingBid">Starting Bid:</label>
           <input type="number" id="startingBid" formControlName="startingBid" name="startingBid">
         </div>
         <div>
           <label for="reservePrice">Reserve Price:</label>
           <input type="number" id="reservePrice" formControlName="reservePrice" name="reservePrice">
         </div>
         <div>
           <label for="auctionDuration">Auction Duration (hours):</label>
           <input type="number" id="auctionDuration" formControlName="auctionDuration" name="auctionDuration">
         </div>
         <div>
           <label for="startTime">Start Time:</label>
           <input type="datetime-local" id="startTime" formControlName="startTime" name="startTime">
         </div>
         <div>
           <label for="endTime">End Time:</label>
           <input type="datetime-local" id="endTime" formControlName="endTime" name="endTime">
         </div>
         <div>
           <label for="status">Status:</label>
           <select id="status" formControlName="status" name="status">
             <option value="active">Active</option>
             <option value="inactive">Inactive</option>
             <option value="inactive">pending</option>
             <option value="inactive">sold</option>
             <!-- Add other status options as needed -->
           </select>
         </div>
         <button type="submit">Submit</button>
       </form>
    </div>
</div>
